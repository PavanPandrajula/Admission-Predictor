

# Admission PredictorğŸ“âœ¨

Welcome to the Admission Predictor project\! This is a complete ML web application designed to predict the likelihood of a student's admission to a university. ğŸ”®

It features a âš¡ **FastAPI** backend that serves a powerful ensemble of machine learning models and a ğŸ¨ **slick, interactive frontend** (with a cool particle background\!) to consume the API.

## Features

  * ğŸ§  **Ensemble Machine Learning**: Uses a soft-voting ensemble of five different models (Logistic Regression, Random Forest, Gradient Boosting, SVM, and KNN) for more robust predictions.
  * ğŸš€ **High-Performance API**: Built with **FastAPI**, providing a high-speed JSON API and automatic Swagger/ReDoc documentation.
  * ğŸ¤– **Automatic Preprocessing**: The API automatically handles Min-Max scaling for scores and One-Hot encoding for country input, so the frontend just sends raw data.
  * ğŸ¨ **Interactive Frontend**: A beautiful, responsive `index.html` file provides the user interface. It includes a form, animated result display, and a probability bar.
  * ğŸ› ï¸ **Training Pipeline**: The `data.py` script can generate 10,000 rows of synthetic data, preprocess it, train all five models, and save them to a single `ensemble_models.pkl` file.

## Tech Stack ğŸ’»

| Area | Technology | Source |
| :--- | :--- | :--- |
| **Backend** | Python 3.10.13 | |
| | FastAPI | |
| | Uvicorn | |
| **ML** | Scikit-learn | |
| | Pandas | |
| | Numpy | |
| | Joblib (for model I/O) | |
| **Frontend** | HTML5, CSS3, Vanilla JavaScript | |
| **Data** | Pydantic (for validation) | |

## Project Structure ğŸ“‚

```
.
â”œâ”€â”€ main.py               # ğŸš€ The main FastAPI application for serving predictions
â”œâ”€â”€ data.py               # ğŸš‚ The model training & synthetic data generation script
â”œâ”€â”€ index.html            # ğŸ¨ The static frontend UI
â”œâ”€â”€ ensemble_models.pkl   # ğŸ§  [Generated by data.py] The saved, pre-trained models
â”œâ”€â”€ requirements.txt      # ğŸ“¦ Python dependencies
â”œâ”€â”€ runtime.txt           # ğŸ Python version
â””â”€â”€ start.sh              # â–¶ï¸ Shell script to start the Uvicorn server
```

## How It Works âš™ï¸

### 1\. Model Training ( `data.py` )

1.  The script first checks if `ensemble_models.pkl` exists.
2.  If not, it generates a 10,000-row synthetic `pandas` DataFrame.
3.  It preprocesses the data:
      * **One-hot encodes** the `Country` column.
      * **Min-Max scales** the `GRE`, `PS`, `SOP`, and `LOR` columns.
4.  It trains all five models (`LogisticRegression`, `RandomForest`, `GradientBoosting`, `SVM`, `KNN`) on the prepared data.
5.  Finally, it saves all trained models into a single dictionary in `ensemble_models.pkl` using `joblib`.

### 2\. API Prediction ( `main.py` )

1.  On startup, the FastAPI app loads the `ensemble_models.pkl` file.
2.  A user sends a `POST` request to `/predict/` with their data (e.g., GRE, SOP, Country).
3.  The API validates this data using the `InputData` Pydantic model.
4.  It *manually* applies the exact same scaling and one-hot encoding as the training script.
5.  It passes these features to all models and gets the `predict_proba` (probability of admission) from each.
6.  It calculates the average probability (soft voting) and returns the final `prediction` (1 or 0) and the `probability` score.

## Setup and Running ğŸƒâ€â™‚ï¸

### 1\. Clone the Repository

```bash
git clone <your-repo-url>
cd <repo-name>
```

### 2\. Create a Virtual Environment

```bash
# macOS/Linux
python3 -m venv venv
source venv/bin/activate

# Windows
python -m venv venv
venv\Scripts\activate
```

### 3\. Install Dependencies

Install all the required packages from `requirements.txt`.

```bash
pip install -r requirements.txt
```

### 4\. Train the Models (First-Time Setup)

The API needs the `ensemble_models.pkl` file to run. Generate it by running the `data.py` script:

```bash
python data.py
```

You should see output indicating the models are training and being saved.

### 5\. Run the API Server

Use the provided `start.sh` script or run Uvicorn directly.

```bash
# For local development
uvicorn main:app --host 127.0.0.1 --port 8000 --reload

# Or using the start script (for deployment)
sh start.sh
```

The API will be live at `http://127.0.0.1:8000`.

### 6\. View the App

  * **API Docs**: Go to `http://127.0.0.1:8000/docs` to see the interactive Swagger UI.

  * **Frontend**: Open the `index.html` file directly in your web browser.

    > **âš ï¸ Important\!**
    > The `index.html` file is hardcoded to call a deployed Render URL (`https://admission-predictor-osai.onrender.com/predict/`).

    > To test locally, you **must** edit line 168 of `index.html` to point to your local server:
    > `const response = await fetch('http://127.0.0.1:8000/predict/', { ... });`

## API Endpoint ğŸ¯

### `POST /predict/`

This is the only endpoint. It accepts student details and returns an admission prediction.

**Request Body (JSON):**

```json
{
  "GRE": 320.0,
  "SOP": 4.5,
  "PS": 4.0,
  "LOR": 4.0,
  "Research": 1,
  "IELTS": 1,
  "Country": "USA",
  "Experience": 2
}
```

  * `Country` must be `"USA"` or `"INT"`.
  * `Research` and `IELTS` must be `0` or `1`.
  * *Note: The `Experience` field is accepted by the API but is not used in the final prediction calculation*.

**Success Response (200 OK):**

```json
{
  "prediction": 1,
  "probability": 0.82451234
}
```
